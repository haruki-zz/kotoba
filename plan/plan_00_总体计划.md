# 计划：总体实施计划

## 计划概述

### 计划目标
形成覆盖工程搭建、数据与算法、主进程服务、渲染端体验、AI 能力和质量保障的完整分层实施路线。

### 在项目中的位置
统筹所有子计划的顺序、依赖与交付物，作为执行和验收的总纲。

---

## 依赖关系

### 前置条件
- 前置任务：无
- 前置数据：设计文档、技术栈文档已确认
- 前置环境：Node.js + pnpm 可用，桌面开发环境可运行 Electron

### 后续影响
- 后续任务：plan_01 - 工作区搭建与工程规范；plan_02 - 数据模型与数据库；plan_03 - 主进程 API 与基础服务；plan_04 - SM-2 算法与复习队列；plan_05 - AI 生成与 Provider 抽象；plan_06 - 渲染端基础框架与设计体系；plan_07 - 今日学习流；plan_08 - 复习流；plan_09 - 词库管理；plan_10 - 统计与反馈；plan_11 - 设置与偏好；plan_12 - 测试与质量保障
- 产出数据：子计划优先级、依赖关系、交付清单

---

## 子任务分解
**每一个子任务都必须小而具体**

- sub_plan_01 - 输出全局优先级与迭代节奏
  - 简述：明确里程碑顺序和阶段目标
- sub_plan_02 - 确定模块边界与接口契约
  - 简述：列出各子计划的责任、输入输出
- sub_plan_03 - 定义交付与验收标准框架
  - 简述：统一各子计划的验收口径与质量要求
- sub_plan_04 - 制定风险与回滚策略
  - 简述：识别关键风险点并给出缓解与回退路径

---

## 技术方案

### 架构设计
采用分层模块化：工作区与规范 → 数据与算法 → 主进程 API → 渲染端体验 → AI 能力 → 质量保障，按照依赖顺序推进。

### 核心技术选型
- pnpm 工作区：支撑 packages/main、packages/renderer、packages/shared 的分包协作
- Electron + Fastify + React/Vite：满足桌面端、快速迭代与统一 TypeScript 需求

### 数据模型
全局唯一核心表 words，字段：id（整数主键）、word、reading、context_expl、scene_desc、example、difficulty、ef（默认 2.5）、interval_days、repetition、last_review_at（ISO）、next_due_at（ISO）、created_at、updated_at。

### 接口设计
以共享 schema 为契约，拆分词条管理、复习队列、统计反馈、设置、AI 生成五类接口，主进程提供，渲染端消费。

---

## 执行摘要

### 输入
- 设计文档、技术栈文档
- 既定目录规范与工具链约束

### 处理
- 分解模块、排序依赖、制定交付标准
- 明确各模块输入输出与协作边界

### 输出
- plan_01 至 plan_12 的执行顺序与依赖
- 统一的验收框架与风险指引

---

## 验收标准
**验收标准必须清晰明确**

### 功能验收
- 所有子计划文件按编号生成，内容完整且无缺漏章节
- 子计划之间的依赖关系在本文中可追溯

### 质量验收
- 语言清晰、无具体代码示例
- 模块边界与交付物描述可执行且不冲突

---

## 交付物清单

### 代码文件
- 无代码交付

### 配置文件
- 无新增配置

### 文档
- plan_01 至 plan_12 计划文档

### 测试文件
- 无
