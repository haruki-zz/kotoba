# 日语词卡应用 UI 设计文档

## 设计目标
- 强化复习流的专注感，突出当前卡片与评分操作，减少分散注意的噪声。
- 维持日语学习氛围：柔和米色背景、单色描边、温润的标题字体，搭配绿阶活跃度热力图。
- 所有信息在一屏内可见：新增、复习、活跃度、数据导出与 API 设置各自分区，层次清晰。
- 主页面既是概览也是真实入口：左侧导航串联子页面，主内容区优先展示新增、最近新增列表与当月活跃度。
- 界面文案极简：所有引导/提示保持最小必要信息，避免冗余说明，只呈现用户当前操作所必需的最简指示。

## 视觉规范
- 色板
  - 主色：琥珀橙 `#C45E1B`（标题、按钮描边、分割线）。
  - 背景：米白 `#F8F4EF`，容器背景 `#FDFBF8`。
  - 文本：深棕 `#5A3415`，次级文案 `#7A5430`，禁用/占位 `#B08A65`。
  - 互动态：填充橙 `#E07E3F`（悬浮）、深橙 `#A94E14`（按下），焦点描边 `#F0A562`。
  - 成功/积极：绿阶用于热力图 `#C9EBA3` → `#5BA23F`。
- 字体
  - 单词卡片与日文界面：暂以内置 `Noto Serif JP`（serif）替代游明朝/教科書体，单词与假名加粗（600–700），其他文案 400–500；数字保持等宽以防跳动；回退链为 `Noto Serif JP → serif`。
  - 英文文案、技术字段及英文数据内容：使用 Console/等宽字体族与默认等宽回退（不固定具体顺序），与日文字体形成清晰对比。
  - 层级：标题 24px，分区标题 16px，正文/按钮 14px，辅助 12px；行高 1.5。
- 布局与网格
  - 导航栏固定宽度 220px，撑满视口高度；主内容区两列：左 60%（新增/预览区域），右 40%（当月热力图 + 最近新增列表上下分区）；容器圆角 8px，描边 1px，内边距 16px。
  - 基础间距单位 8px，分区上下留白 12–16px，分组间留白 24px；列表分节之间使用 12px 间距。
  - 分割线使用虚线或浅色单线，与图片中的 dashed 风格一致。

## 信息架构与版块
- 导航栏（主页面左侧）：纵向按钮含图标+文字，项为「ホーム」「復習」「単語庫」「設定」，当前页高亮；底部可放置导入/导出与 API 设置入口。
- 主页面
  - 顶部工具区：右上角保留「設定」「全屏/收起」「暗/亮切換」图标按钮，16px 线框图标。
  - 左侧主列：新增单词 + AI 结果预览，支持手动编辑/保存；保持原有卡片样式。
  - 右侧主列：上半部分为「最近追加」列表（最多展示最近 5 条，按创建时间倒序，不足不补空）；下半部分为当月活跃度热力图（按新增+session 映射颜色）。
- 子页面
  - 復習页面：集中呈现单词卡片、复习进度条、熟悉度评分按钮（0–4），无其他干扰模块。
  - 単語庫页面：按 50 音分区的单词列表，每个分区独立分隔，可点击单词进入编辑或删除。

## 主页面模块
- 导航栏：220px 左侧竖栏，图标+文字按钮；当前页底色浅橙，描边加粗；hover 浅橙填充，active 深橙；底部附辅助按钮（导入/导出、API 设置）。
- 新增单词区域
  - 输入区：单行输入占位符「単語を入力…」，右侧或下方「生成」主按钮；旁边显式「手動入力」入口（AI 失败/离线时自动展示）。
  - 生成/手动预览卡：标题（单词 + 平假名）、释义、例句；卡片内使用游明朝，单词与假名加粗；字段可编辑；底部「保存」按钮；错误/成功提示使用浅橙背景+描边。
  - 状态提示：生成中显示骨架屏/旋转指示，失败时保留用户输入与已编辑内容。
- 最近追加列表
  - 列表项含单词、假名、创建时间；最多 5 条，不足不填充；可点击跳转至单词库对应词条。
  - 交互：hover 高亮描边，active 背景浅橙；溢出文本省略号显示。
- 当月活跃度热力图
  - 范围：当前月份的周视图（5–6 行 × 7 列），按日显示新增+session 叠加值（两者等权求和）。
  - 样式：方块 12px、间距 3px，绿色梯度，空数据用最浅绿或描边；下方显示「本月累计新增/復習 sessions」摘要。

## 復習子页面
- 布局：导航栏左侧固定，主内容区居中单列；上下留白 24px，卡片区域垂直居中。
- 进度条：文案「復習セッション 3 / 10」旁叠加水平进度条（高度 8–10px，圆角 999px），底层浅橙轨道 `#F3DCC8`，填充渐变 `#E07E3F` → `#C45E1B` 按完成度增长，端帽圆形；同步显示百分比数字；左右箭头切换队列（禁用态灰橙）。
- 卡片：正面仅单词，背面展示读音/释义/例句；统一游明朝，单词与假名加粗（600–700）；内容过长自动缩小字号以适配容器，不截断；3px 圆角、描边 2px 的立体框线。
- 评分按钮：0–4 五个按钮，等宽排列，默认描边，悬浮填充浅橙，选中填充深橙并内阴影。

## 単語庫子页面
- 结构：导航栏左侧固定，主内容为 50 音顺分区列表（あ行、か行…わ行）；每区块独立卡片/分组，区块顶部使用分组标题与虚线分隔。
- 列表项：展示单词、假名、释义首句；hover 高亮描边；点击进入编辑抽屉/侧栏，支持修改读音/释义/例句并保存，或删除该词（删除后提示同步移出复习队列）。
- 分隔与滚动：区块间 16px 间距，支持内部滚动；右上提供搜索框（按单词或假名过滤）。

## 组件行为与交互
- 表单
  - 输入框：获得焦点时高亮描边；占位符使用次级文案色；错误态描边改为深橙并显示 12px 辅助文案。
  - 按钮：默认描边透明背景；悬浮浅橙填充、按下深橙；禁用态描边与文字使用 `#D6B99B`。
- 卡片翻转
  - 动效：Y 轴旋转 180°，200–240ms，使用 ease-in-out；翻转后按钮短暂高亮提示可评分。
  - 键盘：空格或回车翻面，数字 0–4 直接打分；左右方向键切换下一词。
- 热力图
  - hover 显示 tooltip：「YYYY-MM-DD｜新增 X｜復習 Y sessions」；空数据用最浅绿或无填充描边。
  - 点击可过滤当日词条（可选迭代项，默认仅展示 tooltip）。
- 设置与导入导出
  - 下拉菜单选项悬浮橙色底；已保存 key 后显示「已保存」小标签。
  - 导出完成后展示保存路径；导入时显示新增/覆盖/跳过计数。

## 响应式与适配
- ≥1200px：导航栏 220px 常驻，主内容双列 60%/40%（左：新增；右：最近列表 + 热力图），卡片字号 28–32px。
- 960–1199px：导航栏缩至 72px 仅图标，右列（列表+热力图）堆叠到左列下方，左右留白 12px。
- 768–959px：导航栏折叠为顶部汉堡菜单；主内容改为单列垂直排列：新增区域 -> 最近列表 -> 热力图；复习页面评分按钮改为两行排布。
- <768px：全宽单列，标题字号降级；工具栏图标合并为「更多」菜单。

## 无障碍与可读性
- 对比度：文字与背景对比度 ≥ 4.5:1；按钮填充态与文字对比度 ≥ 3:1。
- 键盘可达：Tab 顺序为输入 -> 生成 -> 卡片翻面 -> 评分按钮 -> 导入导出 -> Provider 设置。
- 反馈：操作后 1–2 秒内给出 toast/内联提示（成功/失败）。
- 文本：日文内容保持全宽字符显示，避免断词；数字使用等宽字体防止跳动。

## 动效与微交互
- 全局悬浮：淡入阴影（0 4px 12px #C45E1B22）。
- 分割线绘制：加载时自左向右描边 120ms，呼应示例中的线框风格。
- 进度变化：切换卡片时，中间卡片轻微缩放 0.98→1，帮助聚焦。

## 资源与实现建议
- Tailwind 变量：定义 `--color-primary`, `--color-bg`, `--color-text`, `--color-accent-green-*` 便于主题复用。
- 图标：使用线性风格（Feather/Remix 线框版），统一 16px；热力图与统计使用矢量绘制。
- 背景纹理：可选添加极浅纸纹理（噪点透明 PNG）叠加到 `body`，不影响文本清晰度。

## 质检清单（设计层）
- 文案与数字对齐一致，无突兀换行；占位符、标签统一使用日语。
- 按钮状态完整（默认/hover/active/disabled/loading/成功）。
- 卡片翻转与评分的键盘操作可用，焦点可见。
- 热力图颜色梯度与数据映射一致，无断层；tooltip 内容完整。
- 设置/导入导出表单的错误提示明确（字段缺失、格式错误、权限失败）。
